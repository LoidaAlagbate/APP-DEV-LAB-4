```html
<!DOCTYPE html> <!-- Defines this file as an HTML5 document -->
<html lang="en"> <!-- Sets the language of the page to English -->
<head>
  <meta charset="UTF-8"> <!-- Ensures proper character encoding -->
  <title>Library Information System</title> <!-- Page title shown in browser tab -->

  <!-- CSS styles for layout, colors, and spacing -->
  <style>
    /* Set general font, color, and layout of the page */
    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      background-color: #f9fafc;
      margin: 40px;
      color: #333;
    }

    /* Style for the main heading */
    h2 {
      color: #2a4d69;
      text-align: center;
      margin-bottom: 20px;
    }

    /* Layout for form and control buttons */
    form, .controls {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 15px;
    }

    /* Input fields and buttons basic style */
    input, button {
      padding: 8px 12px;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 14px;
    }

    /* Button background color and hover effect */
    button {
      background-color: #2a9d8f;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    button:hover {
      background-color: #21867a;
    }

    /* Table styling (when in table view) */
    #list table {
      border-collapse: collapse;
      width: 100%;
      margin-top: 10px;
      background: #fff;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    /* Style for table cells */
    th, td {
      border-bottom: 1px solid #ddd;
      padding: 10px;
      text-align: left;
    }

    /* Header row background color */
    th {
      background: #264653;
      color: #fff;
    }

    /* Row hover effect */
    tr:hover {
      background: #f1f1f1;
    }

    /* Red text for borrowed books */
    .unavailable {
      color: #d62828;
      font-weight: bold;
    }

    /* Card view style */
    .card {
      border: 1px solid #ccc;
      border-radius: 10px;
      padding: 15px;
      margin: 10px;
      width: 220px;
      display: inline-block;
      background: #fff;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    /* Slight zoom effect when hovering over a card */
    .card:hover {
      transform: scale(1.03);
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
    }

    /* Summary text at bottom */
    #summary {
      text-align: center;
      font-weight: bold;
      margin-top: 20px;
      padding: 10px;
      border-top: 2px solid #ccc;
      color: #264653;
    }
  </style>
</head>
<body>
  <h2>ðŸ“š Library Information System</h2> <!-- Page heading -->

  <!-- FORM for adding new books -->
  <form id="bookForm">
    <input type="text" id="title" placeholder="Book Title" required> <!-- Input for title -->
    <input type="text" id="author" placeholder="Author" required> <!-- Input for author -->
    <input type="number" id="year" placeholder="Year" required> <!-- Input for year -->
    <button type="submit">Add Book</button> <!-- Button to add book -->
  </form>

  <!-- CONTROL BUTTONS for sorting, filtering, searching, and toggling view -->
  <div class="controls">
    <button onclick="filterRecent()">Filter After 2015</button> <!-- Filters books published after 2015 -->
    <button onclick="sortByTitle()">Sort by Title</button> <!-- Sorts books alphabetically -->
    <button onclick="sortByYear()">Sort by Year</button> <!-- Sorts books by year -->
    <button onclick="resetView()">Reset</button> <!-- Resets filters and search -->
    <button onclick="toggleView()">Toggle View</button> <!-- Switch between table and card view -->
    <input type="text" id="search" placeholder="Search title..." onkeyup="searchBook()"> <!-- Live search bar -->
  </div>

  <!-- Where the book records will be displayed -->
  <div id="list"></div>
  <!-- Displays summary: total and borrowed count -->
  <div id="summary"></div>

  <!-- JAVASCRIPT starts here -->
  <script>
    // Array to store all book records
    let books = [];
    // Variable to track if view is table or card
    let isTableView = true;
    // Variable to control sorting order
    let sortAscending = true;

    // Event listener when the Add Book form is submitted
    document.getElementById("bookForm").addEventListener("submit", e => {
      e.preventDefault(); // Prevent page reload
      // Get input values and clean spaces
      let title = document.getElementById("title").value.trim();
      let author = document.getElementById("author").value.trim();
      let year = parseInt(document.getElementById("year").value);

      // Validate inputs to prevent empty fields
      if (!title || !author || !year) {
        alert("Please fill in all fields.");
        return;
      }

      // Create a new book object
      let newBook = { title, author, year, isAvailable: true };
      // Add new book to the array
      books.push(newBook);
      console.log("Book added:", newBook); // Log in console
      // Refresh display
      renderBooks();
      // Reset form fields
      e.target.reset();
    });

    // Function to display all books in DOM (either table or card view)
    function renderBooks(filtered = books) {
      let container = document.getElementById("list");
      container.innerHTML = ""; // Clear old display

      // If table view is active
      if (isTableView) {
        let tableHTML = `
          <table>
            <tr><th>Title</th><th>Author</th><th>Year</th><th>Status</th><th>Action</th></tr>`;
        // Loop through each book and create a row
        filtered.forEach((b, i) => {
          tableHTML += `
            <tr class="${b.isAvailable ? '' : 'unavailable'}">
              <td>${b.title}</td>
              <td>${b.author}</td>
              <td>${b.year}</td>
              <td>${b.isAvailable ? 'Available' : 'Borrowed'}</td>
              <td>
                <button onclick="toggleBorrow(${i})">${b.isAvailable ? 'Borrow' : 'Return'}</button>
                <button onclick="deleteBook(${i})">Delete</button>
              </td>
            </tr>`;
        });
        tableHTML += "</table>";
        container.innerHTML = tableHTML;
      } 
      // If card view is active
      else {
        filtered.forEach((b, i) => {
          let card = `
            <div class="card ${b.isAvailable ? '' : 'unavailable'}">
              <h4>${b.title}</h4>
              <p><b>Author:</b> ${b.author}</p>
              <p><b>Year:</b> ${b.year}</p>
              <p><b>Status:</b> ${b.isAvailable ? 'Available' : 'Borrowed'}</p>
              <button onclick="toggleBorrow(${i})">${b.isAvailable ? 'Borrow' : 'Return'}</button>
              <button onclick="deleteBook(${i})">Delete</button>
            </div>`;
          container.innerHTML += card;
        });
      }

      // Update the summary (total books and borrowed)
      updateSummary();
    }

    // Function to delete a book with confirmation
    function deleteBook(index) {
      if (confirm("Delete this book?")) {
        console.log("Deleted:", books[index]);
        books.splice(index, 1); // Remove 1 book from array
        renderBooks(); // Refresh display
      }
    }

    // Filter books published after 2015
    function filterRecent() {
      let filtered = books.filter(b => b.year > 2015);
      console.log("Filtered (After 2015):", filtered);
      renderBooks(filtered);
    }

    // Sort books alphabetically by title
    function sortByTitle() {
      books.sort((a, b) => sortAscending ? a.title.localeCompare(b.title) : b.title.localeCompare(a.title));
      sortAscending = !sortAscending; // Toggle direction
      console.log("Sorted by Title:", books);
      renderBooks();
    }

    // Sort books numerically by year
    function sortByYear() {
      books.sort((a, b) => sortAscending ? a.year - b.year : b.year - a.year);
      sortAscending = !sortAscending; // Toggle direction
      console.log("Sorted by Year:", books);
      renderBooks();
    }

    // Live search function (matches partial text)
    function searchBook() {
      let keyword = document.getElementById("search").value.toLowerCase();
      let results = books.filter(b => b.title.toLowerCase().includes(keyword));
      console.log("Search Results:", results);
      renderBooks(results);
    }

    // Toggle between borrowed and available
    function toggleBorrow(index) {
      books[index].isAvailable = !books[index].isAvailable;
      console.log("Borrow/Return Action:", books[index]);
      renderBooks();
    }

    // Reset filters and search field
    function resetView() {
      document.getElementById("search").value = "";
      renderBooks();
    }

    // Switch between table view and card view
    function toggleView() {
      isTableView = !isTableView;
      renderBooks();
    }

    // Update summary section (total and borrowed count)
    function updateSummary() {
      let total = books.length;
      let borrowed = books.filter(b => !b.isAvailable).length;
      document.getElementById("summary").innerText = `Total Books: ${total} | Borrowed: ${borrowed}`;
    }
  </script>
</body>
</html>
```
